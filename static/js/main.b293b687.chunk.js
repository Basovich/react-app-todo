(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),o=n(1),i=n.n(o),r=n(6),a=n.n(r),l=(n(13),n(2)),s=(n(14),n(15),i.a.createContext());var d=function(e){var t=e.todo,n=e.id,i=Object(o.useContext)(s),r=i.dispatch,a=i.openChangeForm,l=i.openAddForm,d="\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u043e\u043f\u0438\u0441",u="\u041f\u0440\u0438\u0445\u043e\u0432\u0430\u0442\u0438 \u043e\u043f\u0438\u0441";return Object(c.jsxs)("li",{className:"todo",children:[Object(c.jsx)("p",{className:"todo__title",children:t.title}),Object(c.jsxs)("div",{className:"todo__info",children:[Object(c.jsxs)("p",{className:"todo__project",children:[Object(c.jsx)("b",{children:"\u041f\u0440\u043e\u0435\u043a\u0442: "}),Object(c.jsx)("span",{className:"todo__project-name",children:t.project})]}),Object(c.jsxs)("p",{className:"todo__priority",children:[Object(c.jsx)("b",{children:"\u041f\u0440\u0456\u043e\u0440\u0456\u0442\u0435\u0442: "}),Object(c.jsx)("span",{className:"todo__priority-number",children:t.priority})]})]}),Object(c.jsxs)("div",{className:"todo__description",children:[Object(c.jsx)("b",{className:"todo__description-title",children:"\u041e\u043f\u0438\u0441:"}),Object(c.jsx)("p",{className:"todo__description-text",children:t.description})]}),Object(c.jsxs)("div",{className:"todo__button-group",children:[Object(c.jsx)("button",{className:"todo__button todo__button-change",type:"button",onClick:function(){l(!1),a(n)},children:"\u0417\u043c\u0456\u043d\u0438\u0442\u0438 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f"}),Object(c.jsx)("button",{className:"todo__button todo__button--more",type:"button",onClick:function(e){var t=e.currentTarget,n=t.closest(".todo").querySelector(".todo__description");n.classList.toggle("is-visible"),t.textContent=n.classList.contains("is-visible")?u:d},children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u043e\u043f\u0438\u0441"}),Object(c.jsx)("button",{className:"todo__button todo__button--error",type:"button",onClick:function(){a(!1),r({type:"remove",payload:n})},children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f"})]})]})};function u(){var e=Object(o.useContext)(s),t=e.state,n=e.filterPriority,i=e.filterProject,r=function(e,t,n){var c=e;t?(o=c,void o.sort((function(e,t){return+e.priority>+t.priority?1:-1}))):c=e,"default"!==n&&(c=c.filter((function(e){return e.project===n})));var o;return c}(t.slice(),n,i);return Object(c.jsx)("ul",{className:"todo-list",children:r.length?r.map((function(e){return Object(c.jsx)(d,{todo:e,id:e.id},e.id)})):Object(c.jsx)("li",{children:"\u041f\u0435\u0440\u0435\u043b\u0456\u043a \u0437\u0430\u0432\u0434\u0430\u043d\u044c \u043f\u043e\u0440\u043e\u0436\u043d\u0456\u0439"})})}n(16);var j=function(e,t,n,c,o){return function(){var i=["title","project","descriptionTextarea","priority"],r=!0;return[e,t,n,c].forEach((function(e,t){(function(e){if(!(o?e.value.trim():e.trim()))return!1;if("default"===e.value)return!1;return!0})(e)||(document.querySelector('[name="'.concat(i[t],'"]')).classList.add("input-error"),r=!1)})),r}};function b(e){var t=Object(o.useState)(e),n=Object(l.a)(t,2),c=n[0],i=n[1];return{bind:{value:c,onChange:function(e){i(e.target.value)},onClick:function(e){e.target.classList.remove("input-error")}},value:c,clear:function(e){return i(e)}}}var p=function(){var e=Object(o.useContext)(s),t=e.dispatch,n=e.openChangeForm,i=e.openAddForm,r=e.visibleForm,a=b(""),l=b(""),d=b(""),u=b("default");function p(){i(!r),h()}function h(){a.clear(""),l.clear(""),d.clear(""),u.clear("default")}var O=j(a,l,d,u,!0);function x(){O()&&(t({type:"add",payload:{title:a.value,project:l.value,description:d.value,priority:u.value}}),h())}return Object(c.jsx)("div",{className:"todo-add-wrap",children:r?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u0435 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f"}),Object(c.jsxs)("form",{className:"todo-add",children:[Object(c.jsxs)("label",{className:"pure-material-textfield-outlined",children:[Object(c.jsx)("input",{placeholder:" ",name:"title",value:a.bind.value,onChange:a.bind.onChange,onClick:a.bind.onClick}),Object(c.jsx)("span",{children:"\u041d\u0430\u0437\u0432\u0430 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f"})]}),Object(c.jsxs)("label",{className:"pure-material-textfield-outlined",children:[Object(c.jsx)("input",{placeholder:" ",name:"project",value:l.bind.value,onChange:l.bind.onChange,onClick:a.bind.onClick}),Object(c.jsx)("span",{children:"\u041d\u0430\u0437\u0432\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0443"})]}),Object(c.jsxs)("label",{className:"pure-material-textfield-outlined",children:[Object(c.jsx)("textarea",{placeholder:" ",name:"descriptionTextarea",value:d.bind.value,onChange:d.bind.onChange,onClick:a.bind.onClick}),Object(c.jsx)("span",{children:"\u041e\u043f\u0438\u0441 \u043f\u0440\u043e\u0435\u043a\u0442\u0443"})]}),Object(c.jsx)("div",{className:"select",children:Object(c.jsxs)("select",{className:"select-text",name:"priority",value:u.bind.value,onChange:u.bind.onChange,onClick:a.bind.onClick,children:[Object(c.jsx)("option",{value:"default",disabled:!0,children:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043f\u0440\u0456\u043e\u0440\u0456\u0442\u0435\u0442"}),Object(c.jsx)("option",{value:"1",children:"1"}),Object(c.jsx)("option",{value:"2",children:"2"}),Object(c.jsx)("option",{value:"3",children:"3"})]})}),Object(c.jsxs)("div",{className:"todo__button-group todo__button-group--right mt-20",children:[Object(c.jsx)("button",{className:"todo__button todo__button-change",type:"button",onClick:x,children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"}),Object(c.jsx)("button",{className:"todo__button todo__button--error",type:"button",onClick:p,children:"\u0412\u0456\u0434\u043c\u0456\u043d\u0438\u0442\u0438"})]})]})]}):Object(c.jsx)("div",{className:"todo__button-group todo__button-group--right mt-20 todo-button-add",children:Object(c.jsx)("button",{className:"todo__button todo__button-change",type:"button",onClick:function(){p(),n(!1)},children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f"})})})};n(17);var h=function(){var e=Object(o.useContext)(s),t=e.changeForm,n=e.openChangeForm,i=e.dispatch,r=Object(o.useState)(t.title),a=Object(l.a)(r,2),d=a[0],u=a[1],b=Object(o.useState)(t.project),p=Object(l.a)(b,2),h=p[0],O=p[1],x=Object(o.useState)(t.description),f=Object(l.a)(x,2),m=f[0],v=f[1],_=Object(o.useState)(t.priority),g=Object(l.a)(_,2),y=g[0],N=g[1];Object(o.useEffect)((function(){u(t.title),O(t.project),v(t.description),N(t.priority)}),[t]);var C=j(d,h,m,y,!1);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{children:"\u0417\u043c\u0456\u043d\u0438\u0442\u0438 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f"}),Object(c.jsxs)("form",{className:"todo-change-wrap",children:[Object(c.jsxs)("label",{className:"pure-material-textfield-outlined",children:[Object(c.jsx)("input",{placeholder:" ",value:d,name:"title",onChange:function(e){return u(e.currentTarget.value)}}),Object(c.jsx)("span",{children:"\u041d\u0430\u0437\u0432\u0430 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f"})]}),Object(c.jsxs)("label",{className:"pure-material-textfield-outlined",children:[Object(c.jsx)("input",{placeholder:" ",value:h,name:"project",onChange:function(e){return O(e.target.value)}}),Object(c.jsx)("span",{children:"\u041d\u0430\u0437\u0432\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0443"})]}),Object(c.jsxs)("label",{className:"pure-material-textfield-outlined",children:[Object(c.jsx)("textarea",{placeholder:" ",value:m,name:"descriptionTextarea",onChange:function(e){return v(e.target.value)}}),Object(c.jsx)("span",{children:"\u041e\u043f\u0438\u0441 \u043f\u0440\u043e\u0435\u043a\u0442\u0443"})]}),Object(c.jsx)("div",{className:"select",children:Object(c.jsxs)("select",{className:"select-text",value:y,name:"priority",onChange:function(e){return N(e.target.value)},children:[Object(c.jsx)("option",{value:"default",disabled:!0,children:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043f\u0440\u0456\u043e\u0440\u0456\u0442\u0435\u0442"}),Object(c.jsx)("option",{value:"1",children:"1"}),Object(c.jsx)("option",{value:"2",children:"2"}),Object(c.jsx)("option",{value:"3",children:"3"})]})}),Object(c.jsxs)("div",{className:"todo__button-group todo__button-group--right mt-20",children:[Object(c.jsx)("button",{className:"todo__button todo__button-change",type:"button",onClick:function(){C()&&i({type:"change",payload:{title:d,project:h,description:m,priority:y,id:t.id}})},children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"}),Object(c.jsx)("button",{className:"todo__button todo__button--error",type:"button",onClick:function(){n(!1)},children:"\u0412\u0456\u0434\u043c\u0456\u043d\u0438\u0442\u0438"})]})]})]})};n(18);var O=function(){var e=Object(o.useContext)(s),t=e.filterPriority,n=e.setNewFilterPriority,i=e.state,r=e.filterProject,a=e.setNewFilterProject,d=Object(o.useState)(t),u=Object(l.a)(d,2),j=u[0],b=u[1],p=Object(o.useState)(r),h=Object(l.a)(p,2),O=h[0],x=h[1],f=[];return i.forEach((function(e){-1===e.project.indexOf()&&f.push(e.project)})),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{className:"todo-filter__title",children:"\u0424\u0456\u043b\u044c\u0442\u0440:"}),Object(c.jsxs)("div",{className:"todo-filter",children:[Object(c.jsxs)("label",{className:"pure-material-checkbox",children:[Object(c.jsx)("input",{type:"checkbox",checked:j,onChange:function(e){return t=e.target.checked,n(t),void b(t);var t}}),Object(c.jsx)("span",{children:"\u043f\u043e \u043f\u0440\u0456\u043e\u0440\u0456\u0442\u0435\u0442\u0443"})]}),Object(c.jsx)("div",{className:"select",children:Object(c.jsxs)("select",{className:"select-text",value:O,onChange:function(e){return t=e.target.value,a(t),void x(t);var t},children:[Object(c.jsx)("option",{value:"default",children:"\u0412\u0441\u0456 \u043f\u0440\u043e\u0435\u043a\u0442\u0438"}),f.map((function(e,t){return Object(c.jsx)("option",{value:e,children:e},t)}))]})})]})]})},x=n(7);function f(e,t){switch(t.type){case"add":return[].concat(Object(x.a)(e),[{id:Date.now(),title:t.payload.title,project:t.payload.project,description:t.payload.description,priority:t.payload.priority}]);case"change":var n=[];return e.forEach((function(e){e.id!==t.payload.id?n.push(e):n.push({id:t.payload.id,title:t.payload.title,project:t.payload.project,description:t.payload.description,priority:t.payload.priority})})),n;case"remove":return e.filter((function(e){return t.payload!==e.id}));default:return e}}var m=function(){var e=JSON.parse(localStorage.getItem("todos"))||[],t=Object(o.useReducer)(f,e),n=Object(l.a)(t,2),i=n[0],r=n[1],a=Object(o.useState)(!1),d=Object(l.a)(a,2),j=d[0],b=d[1],x=Object(o.useState)(!1),m=Object(l.a)(x,2),v=m[0],_=m[1],g=Object(o.useState)(!1),y=Object(l.a)(g,2),N=y[0],C=y[1],k=Object(o.useState)("default"),F=Object(l.a)(k,2),S=F[0],P=F[1];return Object(o.useEffect)((function(){try{localStorage.setItem("todos",JSON.stringify(i))}catch(e){alert(e)}b(!1)}),[i]),Object(c.jsx)(s.Provider,{value:{state:i,dispatch:r,changeForm:j,openChangeForm:function(e){b(!1!==e&&i[i.findIndex((function(t){return t.id===e}))])},openAddForm:function(e){_(e)},visibleForm:v,filterPriority:N,setNewFilterPriority:function(e){C(e)},filterProject:S,setNewFilterProject:function(e){P(e)}},children:Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsx)("h1",{children:"\u041f\u0435\u0440\u0435\u043b\u0456\u043a \u0437\u0430\u0432\u0434\u0430\u043d\u044c"}),Object(c.jsx)(u,{}),Object(c.jsx)(O,{}),j?Object(c.jsx)(h,{}):null,Object(c.jsx)(p,{})]})})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),o(e),i(e),r(e)}))};a.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(m,{})}),document.getElementById("root")),v()}],[[19,1,2]]]);
//# sourceMappingURL=main.b293b687.chunk.js.map